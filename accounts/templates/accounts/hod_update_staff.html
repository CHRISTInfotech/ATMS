{% extends 'hod_base.html' %}
{% block title %}Update Staff{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2>{{ staff.id|yesno:"Update Staff,Add New Staff" }}</h2>

    <form method="POST">
        {% csrf_token %}
        <div class="mb-3">
            <label>Email</label>
            <input type="email" name="email" value="{{ staff.email }}" class="form-control">
        </div>
        <div class="mb-3">
            <label>Emp ID</label>
            <input type="text" name="emp_id" value="{{ staff.emp_id }}" class="form-control">
        </div>
        <div class="mb-3">
            <label>Phone</label>
            <input type="text" name="phone_number" value="{{ staff.phone_number }}" class="form-control">
        </div>
        <div class="mb-3">
            <label>Gender</label>
            <select name="gender" class="form-select">
                <option value="">-</option>
                <option value="Male" {% if staff.gender=='Male' %}selected{% endif %}>Male</option>
                <option value="Female" {% if staff.gender=='Female' %}selected{% endif %}>Female</option>
                <option value="Other" {% if staff.gender=='Other' %}selected{% endif %}>Other</option>
            </select>
        </div>
        <div class="mb-3">
            <label>Role</label>
            <select name="role" class="form-select">
                <option value="staff" {% if staff.role=='staff' %}selected{% endif %}>Staff</option>
                <option value="student" {% if staff.role=='student' %}selected{% endif %}>Student</option>
            </select>
        </div>
        <div class="mb-3">
            <label>Campus</label>
            <select name="campus" class="form-select">
                <option value="">-</option>
                {% for c in campuses %}
                    <option value="{{ c.id }}" {% if staff.campus and staff.campus.id==c.id %}selected{% endif %}>{{ c.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="mb-3">
            <label>School</label>
            <select name="school" class="form-select">
                <option value="">-</option>
                {% for s in schools %}
                    <option value="{{ s.id }}" {% if staff.school and staff.school.id==s.id %}selected{% endif %}>{{ s.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="mb-3">
            <label>Department</label>
            <select name="department" class="form-select">
                <option value="">-</option>
                {% for d in departments %}
                    <option value="{{ d.id }}" {% if staff.department and staff.department.id==d.id %}selected{% endif %}>{{ d.name }}</option>
                {% endfor %}
            </select>
        </div>
        <button type="submit" class="btn btn-success">Save</button>
    </form>
</div>
{% endblock %}
